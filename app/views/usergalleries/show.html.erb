<div class="gallery-bg">
  <%= render "shared/newnavbar" %>
  <div class=" container gallery">
    <%= render "shared/logo" %>
    <div class="title">
      My Personal Gallery
    </div>
    <div class="form-check form-switch ms-4" data-controller="sharedgallery">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Share in public</label>
    </div>
    <div class="gallery-cards">
      <div class="content">
        <% @cards_in_gallery.each do |gallerycard| %>
          <% usercard = Usercard.find(gallerycard.usercard_id) %>
          <% card = Card.find(usercard.card_id) %>
          <% object = card.object %>
            <div class="g-card" data-controller="galleryitem" data-action="click->galleryitem#fire" data-galleryitem-target="selectedelement">
              <%= image_tag "objects/#{object.image_path}" %>
            </div>
        <% end %>
      </div>
    </div>
    <div class="gallery-supports">
      <div class="btn-group dropup">
        <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">Supports</button>
        <ul class="dropdown-menu">
          <% @supports.each_with_index do |support,i| %>
            <li class="support-list" data-controller="gallery" id='s<%=i%>' data-action="click->gallery#changebg" data-imagepath=<%= image_path "#{support.image_path}"%> data-gallery-target="selectedSupport">
              <div>
                <%= image_tag "#{support.image_path}" %>
              </div>
              <div>
                <%= support.name %>
              </div>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  </div>
</div>
